jaar_z,week_z,datum,Overledenen_z,verw_cbs_official,low_cbs_official,high_cbs_official,aantal_overlijdens_z,low_rivm_official,high_rivm_official,opgehoogd
2021,26,28/06/2021,2792,2743,2603,2883,2794,2571,2924,nee
2021,27,05/07/2021,2837,2750,2571,2929,2840,2560,2913,nee
2021,28,12/07/2021,2873,2745,2541,2949,2873,2552,2905,nee
2021,29,19/07/2021,2776,2747,2534,2960,2776,2547,2900,nee
2021,30,26/07/2021,2916,2734,2541,2926,2917,2546,2899,nee
2021,31,02/08/2021,2958,2713,2518,2908,2963,2548,2901,nee
2021,32,09/08/2021,2841,2708,2509,2907,2843,2553,2906,nee
2021,33,16/08/2021,2898,2695,2507,2883,2905,2562,2915,nee
2021,34,23/08/2021,2927,2688,2535,2841,2933,2574,2927,nee
2021,35,30/08/2021,2860,2693,2552,2833,2870,2590,2943,nee
2021,36,06/09/2021,3093,2702,2575,2829,3094,2608,2961,nee
2021,37,13/09/2021,2919,2724,2590,2858,2920,2628,2981,nee
2021,38,20/09/2021,2890,2755,2612,2899,2889,2651,3004,nee
2021,39,27/09/2021,3072,2778,2644,2912,3079,2676,3029,nee
2021,40,04/10/2021,3072,2813,2655,2970,3073,2703,3056,nee
2021,41,11/10/2021,3064,2835,2682,2987,3069,2731,3084,nee
2021,42,18/10/2021,3275,2866,2705,3028,3280,2760,3113,nee
2021,43,25/10/2021,3388,2889,2688,3090,3391,2789,3142,nee
2021,44,01/11/2021,3518,2917,2711,3123,3525,2819,3171,nee
2021,45,08/11/2021,3788,2930,2720,3139,3790,2847,3200,nee
2021,46,15/11/2021,4005,2960,2738,3183,4000,2876,3229,nee
2021,47,22/11/2021,4192,3001,2771,3231,4199,2903,3256,nee
2021,48,29/11/2021,4395,3042,2791,3292,4401,2928,3281,nee
2021,49,06/12/2021,4373,3066,2771,3361,4387,2952,3305,nee
2021,50,13/12/2021,4053,3130,2830,3429,4058,2973,3326,nee
2021,51,20/12/2021,3772,3196,2861,3531,3770,2992,3345,nee
2021,52,27/12/2021,3688,3253,2902,3605,3685,3008,3361,nee
2022,1,03/01/2022,3433,3321,2953,3690,3436,3021,3374,nee
2022,2,10/01/2022,3157,3356,2975,3737,3158,3031,3384,nee
2022,3,17/01/2022,3192,3390,2991,3788,3194,3037,3390,nee
2022,4,24/01/2022,3200,3438,3054,3822,3203,3041,3393,nee
2022,5,31/01/2022,3285,3454,3073,3835,3287,3040,3393,nee
2022,6,07/02/2022,3256,3447,3025,3870,3257,3036,3389,nee
2022,7,14/02/2022,3381,3455,2963,3947,3378,3029,3382,nee
2022,8,21/02/2022,3352,3433,2898,3969,3353,3019,3372,nee
2022,9,28/02/2022,3234,3397,2851,3944,3234,3005,3358,nee
2022,10,07/03/2022,3388,3360,2830,3890,3389,2989,3342,nee
2022,11,14/03/2022,3606,3298,2800,3795,3607,2970,3323,nee
2022,12,21/03/2022,3631,3217,2754,3680,3631,2949,3302,nee
2022,13,28/03/2022,3564,3146,2745,3547,3568,2925,3278,nee
2022,14,04/04/2022,3574,3066,2753,3378,3575,2900,3253,nee
2022,15,11/04/2022,3517,2997,2759,3235,3516,2874,3227,nee
2022,16,18/04/2022,3235,2955,2751,3159,3235,2847,3199,nee
2022,17,25/04/2022,3141,2908,2716,3100,3142,2819,3172,nee
2022,18,02/05/2022,3130,2880,2689,3071,3129,2791,3144,nee
2022,19,09/05/2022,3128,2860,2672,3048,3128,2763,3116,nee
2022,20,16/05/2022,3058,2832,2664,3000,3058,2737,3089,nee
2022,21,23/05/2022,2924,2808,2657,2958,2923,2711,3064,nee
merged_df = pd.merge(grouped_df_rioolwater, final_df_covid_sterfte, left_on=['selected_year', 'month'], right_on=['year', 'month'], suffixes=('_rioolwater', '_covid_sterfte'))
merged_df = pd.merge(merged_df, grouped_oversterfte, left_on=['selected_year', 'month'], right_on=['jaar_z', 'month'])2022,23,06/06/2022,2946,2773,2628,2917,2943,2664,3017,nee
2022,24,13/06/2022,3012,2775,2637,2912,3014,2644,2997,nee
# Create a line plot with two axes using Plotly79,nee
fig = go.Figure()
2022,27,04/07/2022,2973,2760,2581,2940,2976,2684,3078,nee
# Add the rioolwater data to the plotnee
fig.add_trace(go.Scatter(x=merged_df['selected_year'].astype(str) + '-' + merged_df['month'].astype(str),
                         y=merged_df['value_rioolwater'],2022,30,25/07/2022,3136,2744,2552,2937,3135,2670,3064,nee
                         mode='lines',918,2963,2672,3067,nee
                         name='Rioolwater',19,2520,2918,2987,2678,3072,nee
                         yaxis='y1'))2022,33,15/08/2022,3081,2705,2518,2893,3079,2687,3081,nee
2022,34,22/08/2022,3041,2699,2546,2852,3045,2699,3093,nee
# Add the covid sterfte data to the plot
fig.add_trace(go.Scatter(x=merged_df['selected_year'].astype(str) + '-' + merged_df['month'].astype(str),
                         y=merged_df['value_covid_sterfte'],2022,37,12/09/2022,2819,2735,2601,2869,2822,2753,3147,nee
                         mode='lines',22,2910,3017,2776,3170,nee
                         name='Covid Sterfte',,2655,2923,3207,2801,3195,nee
                         yaxis='y2'))81,3311,2828,3222,nee
2022,41,10/10/2022,3315,2846,2693,2998,3311,2856,3250,nee
# Add the oversterfte data to the plot85,3279,nee
fig.add_trace(go.Scatter(x=merged_df['selected_year'].astype(str) + '-' + merged_df['month'].astype(str),2022,43,24/10/2022,3312,2901,2700,3102,3310,2914,3308,nee
                         y=merged_df['oversterfte_cbs'],
                         mode='lines',
                         name='Oversterfte',2022,46,14/11/2022,3212,2972,2749,3195,3223,3002,3396,nee
                         yaxis='y3'))nee

# Update the layout to include three y-axes
fig.update_layout(442,3997,3101,3495,nee
    title='Rioolwater vs Covid Sterfte vs Oversterfte',2874,3544,4202,3121,3515,nee
    xaxis_title='Year-Month',7,4136,3138,3532,nee
    yaxis=dict(2023,1,02/01/2023,4034,3346,2978,3715,4035,3151,3546,nee
        title='Rioolwater Value',
        titlefont=dict(
            color='#1f77b4'2023,4,23/01/2023,3443,3464,3080,3848,3446,3174,3568,nee
        ),99,3861,3624,3174,3569,nee
        tickfont=dict(3,3450,3473,3051,3896,3451,3172,3566,nee
            color='#1f77b4'2023,7,13/02/2023,3548,3481,2989,3973,3551,3166,3560,nee
        )2023,8,20/02/2023,3446,3459,2924,3995,3446,3156,3551,nee
    ),,3538,nee
    yaxis2=dict(3,3786,3386,2856,3916,3787,3129,3523,nee
        title='Covid Sterfte Value',2023,11,13/03/2023,3674,3323,2825,3820,3677,3111,3505,nee
        titlefont=dict(5,3575,3091,3485,nee
            color='#ff7f0e'
        ),
        tickfont=dict(,3066,3019,3413,nee
            color='#ff7f0e',2993,3387,nee
        ),2,2905,2966,3360,nee
        overlaying='y',2023,18,01/05/2023,3019,2901,2710,3093,3019,2939,3333,nee
        side='right'001,2912,3306,nee
    ),
    yaxis3=dict(
        title='Oversterfte Value',,2883,2837,3231,nee
        titlefont=dict(16,3210,nee
            color='#2ca02c'3,3207,2796,3190,nee
        ),2023,25,19/06/2023,3017,2783,2652,2913,3021,2779,3173,nee
        tickfont=dict(04,2764,3158,nee
            color='#2ca02c',2780,2781,2602,2960,2787,2771,3190,nee
        ),948,2765,3184,nee
        overlaying='y',2565,2991,2780,2762,3181,nee
        side='right',023,2927,2765,2572,2958,2934,2763,3182,nee
        anchor='free',,2939,2787,2767,3186,nee
        position=0.85,2739,2540,2938,2898,2774,3193,nee
    )6,2538,2913,2927,2784,3203,nee
)/08/2023,2888,2719,2566,2872,2899,2798,3217,nee
2,2723,2583,2864,2863,2814,3233,nee
# Display the plot3,2606,2861,2967,2834,3252,nee
st.plotly_chart(fig)2024,3,15/01/2024,,,,,3838,3259,3677,nee
2024,4,22/01/2024,,,,,3901,3261,3680,nee
2024,5,29/01/2024,,,,,4020,3261,3679,nee
2024,6,05/02/2024,,,,,3802,3257,3675,nee
2024,7,12/02/2024,,,,,3604,3249,3668,nee
2024,8,19/02/2024,,,,,3436,3239,3658,nee
2024,9,26/02/2024,,,,,3534,3226,3644,nee
2024,10,04/03/2024,,,,,3558,3210,3628,nee
2024,11,11/03/2024,,,,,3409,3191,3610,nee
2024,12,18/03/2024,,,,,3369,3171,3589,nee
2024,13,25/03/2024,,,,,3452,3148,3567,nee
2024,14,01/04/2024,,,,,3403,3124,3543,nee
2024,15,08/04/2024,,,,,3419,3099,3518,nee
2024,16,15/04/2024,,,,,3234,3073,3492,nee
2024,17,22/04/2024,,,,,3321,3047,3466,nee
2024,18,29/04/2024,,,,,3237,3021,3440,nee
2024,19,06/05/2024,,,,,3030,2995,3414,nee
2024,20,13/05/2024,,,,,3192,2970,3389,nee
2024,21,20/05/2024,,,,,3124,2947,3365,nee
2024,22,27/05/2024,,,,,2981,2925,3343,nee
2024,23,03/06/2024,,,,,2979,2904,3323,nee
2024,24,10/06/2024,,,,,3051,2886,3305,nee
2024,25,17/06/2024,,,,,3142,2871,3290,nee
2024,26,24/06/2024,,,,,3107,2858,3277,nee
2024,27,01/07/2024,,,,,3048,2802,3253,nee
2024,28,08/07/2024,,,,,3133,2789,3240,nee
2024,29,15/07/2024,,,,,3017,2781,3232,nee
2024,30,22/07/2024,,,,,2945,2778,3229,nee
2024,31,29/07/2024,,,,,3006,2780,3231,nee
2024,32,05/08/2024,,,,,2949,2787,3238,nee
2024,33,12/08/2024,,,,,3050,2800,3251,nee
2024,34,19/08/2024,,,,,2998,2818,3268,nee
2024,35,26/08/2024,,,,,2977,2841,3291,nee
2024,36,02/09/2024,,,,,3110,2868,3319,ja
2024,37,09/09/2024,,,,,2939,2900,3351,ja
2024,38,16/09/2024,,,,,3101,2935,3386,ja
2024,39,23/09/2024,,,,,3167,2973,3424,ja
2024,40,30/09/2024,,,,,3190,3012,3463,ja
2024,41,07/10/2024,,,,,3348,3053,3504,ja
2024,42,14/10/2024,,,,,3337,3093,3544,ja
2024,43,21/10/2024,,,,,,3133,3584,NA
2024,44,28/10/2024,,,,,,3171,3622,NA
2024,45,04/11/2024,,,,,,3207,3658,NA
2024,46,11/11/2024,,,,,,3239,3690,NA
2024,47,18/11/2024,,,,,,3268,3719,NA
2024,48,25/11/2024,,,,,,3293,3744,NA
2024,49,02/12/2024,,,,,,3313,3764,NA
2024,50,09/12/2024,,,,,,3330,3780,NA
2024,51,16/12/2024,,,,,,3341,3792,NA
2024,52,23/12/2024,,,,,,3349,3800,NA
2024,53,30/12/2024,,,,,,3352,3803,NA
2025,1,06/01/2025,,,,,,3352,3803,NA
2025,2,13/01/2025,,,,,,3349,3800,NA
2025,3,20/01/2025,,,,,,3342,3793,NA
2025,4,27/01/2025,,,,,,3333,3784,NA
2025,5,03/02/2025,,,,,,3322,3773,NA
2025,6,10/02/2025,,,,,,3309,3760,NA
2025,7,17/02/2025,,,,,,3295,3746,NA
2025,8,24/02/2025,,,,,,3279,3730,NA
2025,9,03/03/2025,,,,,,3262,3713,NA
2025,10,10/03/2025,,,,,,3244,3695,NA
2025,11,17/03/2025,,,,,,3225,3676,NA
2025,12,24/03/2025,,,,,,3206,3656,NA
2025,13,31/03/2025,,,,,,3185,3636,NA
2025,14,07/04/2025,,,,,,3163,3614,NA
2025,15,14/04/2025,,,,,,3140,3591,NA
2025,16,21/04/2025,,,,,,3116,3567,NA
2025,17,28/04/2025,,,,,,3092,3542,NA
2025,18,05/05/2025,,,,,,3066,3517,NA
2025,19,12/05/2025,,,,,,3040,3491,NA
2025,20,19/05/2025,,,,,,3014,3465,NA
2025,21,26/05/2025,,,,,,2988,3439,NA
2025,22,02/06/2025,,,,,,2963,3414,NA
2025,23,09/06/2025,,,,,,2939,3390,NA
2025,24,16/06/2025,,,,,,2917,3368,NA
2025,25,23/06/2025,,,,,,2897,3348,NA
